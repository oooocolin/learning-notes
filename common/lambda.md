---
title: Lambda 表达式
tags:
  - common
  - grammar-sugar
---
## 概述
在早期语言中，函数只能定义在全局或类中，只能通过函数名调用。但随着函数式编程思潮影响下，函数也有了像变量一样被传递、存储、返回的操作，那么就要求能快速创建函数对象。所以引入 lambda 表达式作为一种轻量、匿名、内联的函数定义方式。
## 语法结构
lambda 表达式的语法格式大致相同，其在语言内所发挥作用的场景却各有不同。
- Python：`lambda x: x + 1` （只能包含一个表达式，常用于排序、数组的链式操作等）。
- Java：`(x, y) -> x + y` （从 Java 8 引入，用于替代匿名内部类）。
- C++：`[&](int x){ return x * 2; }` （C++11 引入，可捕获外部变量，`&` 表示按引用捕获外部作用域中的所有变量，从而使 lambda 表达式内部可以直接引用外部作用域变量。若没有捕获列表 `[]` ，则 lambda 表达式只可以修改局部变量和参数）。
- JavaScript：`x => x * 2` （ES6引入，继承`this`，常用于回调与函数式API）。
- TypeScript：`(x: number): number => x + 1` （和JS一致，但带静态类型）。
- C#：`x => x + 1` （支持表达式体与语句体，用于LINQ等）。
- Swift：`{ x in x + 1 }` （可以自动推断类型，支持尾随闭包）。
- Kotlin：`{ x -> x + 1 }` （与高阶函数完美结合，用于集合操作）。
- Go：`func(x int) int { return x + 1 }` （匿名函数可直接定义并立即调用）。
